{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport { projectFirestore } from '../firebase';\n\nconst useFirestore = collection => {\n  const [docs, setDocs] = useState([]);\n  useEffect(() => {\n    const unsub = projectFirestore.collection(collection) // .orderBy('createdAt', desc)\n    .onSnapshot(snap => {\n      let documents = [];\n      snap.forEach(doc => {\n        documents.push({ ...doc.data(),\n          id: doc.id\n        });\n        setDocs(documents);\n      });\n    });\n    return () => unsub();\n  }, [collection]);\n  return {\n    docs\n  };\n};","map":{"version":3,"sources":["C:/Users/kkdh1/Desktop/Capstone/client/src/hooks/useFirestore.js"],"names":["useState","useEffect","projectFirestore","useFirestore","collection","docs","setDocs","unsub","onSnapshot","snap","documents","forEach","doc","push","data","id"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,gBAAT,QAAiC,aAAjC;;AAEA,MAAMC,YAAY,GAAIC,UAAD,IAAgB;AACnC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAC,EAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMM,KAAK,GAAGL,gBAAgB,CAACE,UAAjB,CAA4BA,UAA5B,EACd;AADc,KAEbI,UAFa,CAEDC,IAAD,IAAU;AACpB,UAAIC,SAAS,GAAG,EAAhB;AACAD,MAAAA,IAAI,CAACE,OAAL,CAAaC,GAAG,IAAI;AAClBF,QAAAA,SAAS,CAACG,IAAV,CAAe,EACb,GAAGD,GAAG,CAACE,IAAJ,EADU;AAEbC,UAAAA,EAAE,EAAEH,GAAG,CAACG;AAFK,SAAf;AAIAT,QAAAA,OAAO,CAACI,SAAD,CAAP;AACD,OAND;AAOD,KAXa,CAAd;AAaA,WAAO,MAAMH,KAAK,EAAlB;AACD,GAfQ,EAeN,CAACH,UAAD,CAfM,CAAT;AAiBA,SAAO;AAACC,IAAAA;AAAD,GAAP;AACD,CArBD","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { projectFirestore } from '../firebase';\r\n\r\nconst useFirestore = (collection) => {\r\n  const [docs, setDocs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const unsub = projectFirestore.collection(collection)\r\n    // .orderBy('createdAt', desc)\r\n    .onSnapshot((snap) => {\r\n      let documents = [];\r\n      snap.forEach(doc => {\r\n        documents.push({\r\n          ...doc.data(),\r\n          id: doc.id\r\n        });\r\n        setDocs(documents);\r\n      })\r\n    });\r\n    \r\n    return () => unsub();\r\n  }, [collection])\r\n\r\n  return {docs};\r\n}"]},"metadata":{},"sourceType":"module"}